# p <- 20
# x <- matrix(rnorm(n*p,0,1),n,p)
# e <- rnorm(n,0,1)
# # w <- runif(n,min=0,max=1)
# w <- NULL
#
# b_star <- c(10,-10,rep(0,p-2))
# y <- x %*% b_star + e
#
# max_iter <- 100; tol <- 1e-8
#
# # 1. coordinate descent:
# fit_cd <- ftn_cd(y,x,w,delta,lambda,max_iter,tol)
# beta_cd <- fit_cd$beta_hat[fit_cd$iter,]
# round(beta_cd,3)
# round(fun_pen_Huber_reg(beta_cd,n,y,x,w,delta,lambda),3)
#
# # 2. brute force:
# fit_bf <- ftn_bf(y,x,w,delta,lambda,max_iter,tol)
# beta_bf <- fit_bf$beta_hat[fit_bf$iter,]
# round(beta_bf,3)
# round(fun_pen_Huber_reg(beta_bf,n,y,x,w,delta,lambda),3)
#
# # 3. Use optimizer (optimize):
# fit_optimize <- ftn_optimize(y,x,w,delta,lambda,max_iter,tol)
# beta_optimize <- fit_optimize$beta_hat[fit_optimize$iter,]
# round(beta_optimize,3)
# round(fun_pen_Huber_reg(beta_optimize,n,y,x,w,delta,lambda),3)
#
fun_cd(x[,j],w,rj,n,delta,lambda)
thres <- delta/abs(w*x[,j])
dat <- array(NA, c(2*n, 6))
colnames(dat) <- c("r_i", "i", "r pm delta/|x_j|", "B", "Slope", "f'(c)")
dat[,1] <- c(rj,rj) # r_i.
dat[,2] <- c(rep(1:n, 2)) # indices i of r_i.
dat[,3] <- c(rj-thres, rj+thres) # kinks; r_i pm r pm delta/|x_j|.
dat[,4] <- c(w^2*x[,j]^2/n,-w^2*x[,j]^2/n) # increment when passing the kinks with respect to c.
dat <- dat[order(dat[,3]),] # rearrange data in the order of kinks.
dat[,5] <- cumsum(dat[,4]) # This tell us about the slope.
dat
.C("cd_Huber",
as.double(1),
as.double(1),
as.double(x[,j]),
as.double(w),
as.double(rj),
as.integer(n),
as.double(delta),
as.double(lambda))
.C("cd_Huber",
double(1),
double(1),
as.double(x[,j]),
as.double(w),
as.double(rj),
as.integer(n),
as.double(delta),
as.double(lambda))
.C("cd_Huber",
double(1),
double(1),
as.double(x[,j]),
as.double(w),
as.double(rj),
as.integer(n),
as.double(delta),
as.double(lambda))
.C("cd_Huber",
double(1),
double(1),
as.double(x[,j]),
as.double(w),
as.double(rj),
as.integer(n),
as.double(delta),
as.double(lambda))
library(roxygen2)
library(devtools)
gewtd()
getwd()
setwd("D:/High-dimensional time series/Exact coordinate descent/rome")
load_all("rome")
use_description(fields=list(Title="Exact coordinate descent algorithm for fitting ell_1-penalized robust M-estimator"))
load_all("rome")
getwd()
setwd("D:/High-dimensional time series/Exact coordinate descent")
package.skeleton("rome")
as.package("rome")
load_all(as.package("rome"))
document(as.package("rome"))
load_all(as.package("rome"))
document()
document(as.package("rome"))
getLoadedDLLs()
getwd()
package.skeleton("rome")
getwd()
package.skeleton("rome")
document(as.package("rome"))
load_all(as.package("rome"))
document(as.package("rome"))
document(as.package("rome"))
document(as.package("rome"))
load_all(as.package("rome"))
use_description(field=list(Version="0.1.0"))
use_description(field=list("Authors@R" = utils::person(
"Younghoon", "Kim",
email = "yk748@cornell.edu",
role = c("aut", "cre"),
comment = c(ORCID = "0009-0007-0117-5530")))
)
use_description(field=list("Authors@R" : c(person(
"Younghoon", "Kim",
email = "yk748@cornell.edu",
role = c("aut", "cre"),
comment = c(ORCID = "0009-0007-0117-5530")),person("Sumanta","Basu",role="aut")),"Maintanier" : Younghoon Kim <yk748@cornell.edu>))
use_description(field=list("Authors@R" = c(person(
"Younghoon", "Kim",
email = "yk748@cornell.edu",
role = c("aut", "cre"),
comment = c(ORCID = "0009-0007-0117-5530")),person("Sumanta","Basu",role="aut")),"Maintanier" = Younghoon Kim <yk748@cornell.edu>))
use_description(field=list("Authors@R" = c(person(
given="Younghoon",family="Kim",
email = "yk748@cornell.edu",
role = c("aut", "cre"),
comment = c(ORCID = "0009-0007-0117-5530")),person(give="Sumanta",family="Basu",role="aut")),"Maintanier" = Younghoon Kim <yk748@cornell.edu>))
use_author(c(person(
given="Younghoon",family="Kim",
email = "yk748@cornell.edu",
role = c("aut", "cre"),
comment = c(ORCID = "0009-0007-0117-5530")),person(give="Sumanta",family="Basu",role="aut")))
use_author(c((
given="Younghoon",family="Kim",
use_author(
+     given="Younghoon",family="Kim",
use_author(given="Younghoon",family="Kim",email = "yk748@cornell.edu",role = c("aut", "cre"),comment = c(ORCID = "0009-0007-0117-5530"))
use_description(field=list("Authors@R" = utils::person(
"Younghoon", "Kim",
email = "yk748@cornell.edu",
role = c("aut", "cre"),
comment = c(ORCID = "0009-0007-0117-5530")),Title="Exact coordinate descent algorithm for fitting ell_1-penalized\nrobust M-estimator",Version="0.1.0")
)
use_description(field=list("Authors@R" = utils::person(
"Younghoon", "Kim",
email = "yk748@cornell.edu",
role = c("aut", "cre"),
comment = c(ORCID = "0009-0007-0117-5530")),Title="Exact coordinate descent algorithm for fitting ell_1-penalized robust M-estimator",Version="0.1.0"))
use_description(field=list("Authors@R" = c(person(
"Younghoon", "Kim",
email = "yk748@cornell.edu",
role = c("aut", "cre"),
comment = c(ORCID = "0009-0007-0117-5530")),
person("Sumanta","Basu",role="aut")),
Maintainer=c("Younghoon Kim" <yk748@cornell.edu>),
use_description(field=list("Authors@R" = c(person(
"Younghoon", "Kim",
email = "yk748@cornell.edu",
role = c("aut", "cre"),
comment = c(ORCID = "0009-0007-0117-5530")),
person("Sumanta","Basu",role="aut")),
Maintainer=c("Younghoon","Kim","yk748@cornell.edu"),
Title="Exact coordinate descent algorithm for fitting ell_1-penalized robust M-estimator",
Version="0.1.0"))
use_description(field=list("Authors@R" = c(person(
"Younghoon", "Kim",
email = "yk748@cornell.edu",
role = c("aut", "cre"),
comment = c(ORCID = "0009-0007-0117-5530")),
person("Sumanta","Basu",role="aut")),
Maintainer=c(given="Younghoon",family="Kim",email="yk748@cornell.edu"),
Title="Exact coordinate descent algorithm for fitting ell_1-penalized robust M-estimator",
Version="0.1.0"))
use_description(field=list("Authors@R" = c(person(
"Younghoon", "Kim",
email = "yk748@cornell.edu",
role = c("aut", "cre"),
comment = c(ORCID = "0009-0007-0117-5530")),
person("Sumanta","Basu",role="aut")),
Maintainer=c("Younghoon Kim",email="yk748@cornell.edu"),
Title="Exact coordinate descent algorithm for fitting ell_1-penalized robust M-estimator",
Version="0.1.0"))
use_description(field=list("Authors@R" = c(person(
"Younghoon", "Kim",
email = "yk748@cornell.edu",
role = c("aut", "cre"),
comment = c(ORCID = "0009-0007-0117-5530")),
person("Sumanta","Basu",role="aut")),
Maintainer=c("Younghoon Kim <yk748@cornell.edu>"),
Title="Exact coordinate descent algorithm for fitting ell_1-penalized robust M-estimator",
Version="0.1.0"))
document(as.package("rome"))
load_all(as.package("rome"))
load_all(as.package("rome"))
document(as.package("rome"))
load_all(as.package("rome"))
document(as.package("rome"))
load_all(as.package("rome"))
document(as.package("rome"))
load_all(as.package("rome"))
devtools::clean_dll()
getwd()
devtools::load_all()
getwd(""D:/High-dimensional time series/Exact coordinate descent/rome")
getwd("D:/High-dimensional time series/Exact coordinate descent/rome")
setwd("D:/High-dimensional time series/Exact coordinate descent/rome")
devtools::load_all()
devtools::clean_dll()
devtools::load_all()
document()
devtools::load_all()
document()
devtools::load_all()
document()
document()
devtools::load_all()
document()
devtools::load_all()
getwd()
library(devtools)
library(roxygen2)
devtools::load_all(".")
document()
document()
devtools::load_all(".")
document()
getLoadedDLLs()
document()
devtools::load_all(".")
document()
devtools::load_all(".")
document()
devtools::load_all(".")
document()
devtools::load_all(".")
devtools::load_all(".")
document()
devtools::load_all(".")
devtools::load_all(".")
document()
devtools::load_all(".")
devtools::load_all(".")
document()
devtools::load_all(".")
document()
devtools::load_all(".")
document()
devtools::load_all(".")
.libPaths()
devtools::load_all(".")
.libPaths()
document()
d <- description$new("path/to/DESCRIPTION")
getwd()
description$new("path/to/DESCRIPTION")
description$new("D:/High-dimensional time series/Exact coordinate descent/rome")
use_description(fields = list(
Package = "rome",
Title = "penalized RObust-MEstimators",
Description = "This package does amazing things to help with data analysis.",
Version = "0.1.0",
Authors@R = c(person("Younghoon","Kim",email="yk748@cornell.edu",role=c("aut","cre"),comment=c(ORCID = "0009-0007-0117-5530")),person('Sumanta',"basu",role="aut")),
use_description(fields = list(
Package : "rome",
Title : "penalized RObust-MEstimators",
Description : "This package does amazing things to help with data analysis.",
Version : "0.1.0",
Authors@R : c(person("Younghoon","Kim",email="yk748@cornell.edu",role=c("aut","cre"),comment=c(ORCID = "0009-0007-0117-5530")),person('Sumanta',"basu",role="aut")),
Maintainer:c("Younghoon Kim <yk748@cornell.edu>")
))
use_description(fields = list(
Title : "penalized RObust-MEstimators",
Description : "This package does amazing things to help with data analysis.",
Version : "0.1.0",
Authors@R : c(person("Younghoon","Kim",email="yk748@cornell.edu",role=c("aut","cre"),comment=c(ORCID = "0009-0007-0117-5530")),person('Sumanta',"basu",role="aut")),
Maintainer:c("Younghoon Kim <yk748@cornell.edu>")
))
use_description(fields = list(
Title = "penalized RObust-MEstimators",
Description = "This package does amazing things to help with data analysis.",
Version = "0.1.0",
Authors@R = c(person("Younghoon","Kim",email="yk748@cornell.edu",role=c("aut","cre"),comment=c(ORCID = "0009-0007-0117-5530")),person('Sumanta',"basu",role="aut")),
library(usethis)
use_description(fields = list(
Title = "penalized RObust-MEstimators",
Description = "This package does amazing things to help with data analysis.",
Version = "0.1.0",
Authors = c(
person("Younghoon", "Kim", email = "yk748@cornell.edu", role = c("aut", "cre"), comment = c(ORCID = "0009-0007-0117-5530")),
person("Sumanta", "Basu", role = "aut")
),
Maintainer = "Younghoon Kim <yk748@cornell.edu>"
))
library(usethis)
use_description(fields = list(
Title = "penalized RObust-MEstimators",
Description = "Exact coordinate descent algorithm for robust M-estimator with ell-1 penalty.",
Version = "0.1.0",
Authors = c(
person("Younghoon", "Kim", email = "yk748@cornell.edu", role = c("aut", "cre"), comment = c(ORCID = "0009-0007-0117-5530")),
person("Sumanta", "Basu", role = "aut")
),
Maintainer = "Younghoon Kim <yk748@cornell.edu>"
))
library(usethis)
use_description(fields = list(
Title = "penalized RObust-MEstimators",
Description = "Exact coordinate descent algorithm for robust M-estimator with ell-1 penalty.",
Version = "0.1.0",
Authors@R = c(
library(usethis)
use_description(fields = list(
Title = "penalized RObust-MEstimators",
Description = "Exact coordinate descent algorithm for robust M-estimator with ell-1 penalty.",
Version = "0.1.0",
Authors = c(
person("Younghoon", "Kim", email = "yk748@cornell.edu", role = c("aut", "cre"), comment = c(ORCID = "0009-0007-0117-5530")),
person("Sumanta", "Basu", role = "aut")
),
Maintainer = "Younghoon Kim <yk748@cornell.edu>"
))
use_description(fields = list(
Title = "penalized RObust-MEstimators",
Description = "Exact coordinate descent algorithm for robust M-estimator with ell-1 penalty.",
Version = "0.1.0",
Authors = c(
person("Younghoon", "Kim", email = "yk748@cornell.edu", role = c("aut", "cre"), comment = c(ORCID = "0009-0007-0117-5530")),
person("Sumanta", "Basu", role = "aut")
),
Maintainer = "Younghoon Kim <yk748@cornell.edu>"
))
use_description(fields = list(
Title = "penalized RObust-MEstimators",
Description = "Exact coordinate descent algorithm for robust M-estimator with ell-1 penalty.",
Version = "0.1.0",
Authors@R = c(
use_description(fields = list(
Title = "penalized RObust-MEstimators",
Description = "Exact coordinate descent algorithm for robust M-estimator with ell-1 penalty.",
Version = "0.1.0",
Authors@R = c(
use_description(fields = list(
Title = "penalized RObust-MEstimators",
Description = "Exact coordinate descent algorithm for robust M-estimator with ell-1 penalty.",
Version = "0.1.0",
Authors = c(
person(given="Younghoon", family="Kim", email = "yk748@cornell.edu", role = c("aut", "cre"), comment = c(ORCID = "0009-0007-0117-5530")),
person(given="Sumanta", family="Basu", role = "aut")
),
Maintainer = "Younghoon Kim <yk748@cornell.edu>"
))
use_author(given="Sumanta",family="Basu",role="aut")
use_author(given="Sumanta",family="Basu",role="aut")
use_author(given="Sumanta",family="Basu",role="aut")
getwd()
document()
devtools::load_all(".")
library(RcppArmadillo)
library(Rcpp)
RcppArmadillo.package.skeleton("rome")
compileAttributes(verbose=TRUE)
library(Rcpp)
compileAttributes(verbose=TRUE)
devtools::load_all(".")
document()
Check
devtools::load_all(".")
document()
devtools::load_all(".")
devtools::document()
devtools::load_all(".")
devtools::document()
getwd()
install.packages("remotes")
remotes::install_github("hadley/roxygen3")
library(roxygen3)
remotes::install_github("hadley/roxygen3")
remotes::install_github("hadley/roxygen3")
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
getwd()
library(devtools)
library(roxygen2)
devtools::load_all(".")
devtools::load_all(".")
devtools::load_all(".")
devtools::document()
devtools::document()
devtools::document()
pkgbuild::compile_dll()
devtools::check()
devtools::load_all(".")
devtools::load_all(".")
devtools::load_all(".")
roxygen::roxygenize()
library(roxygen2)
roxygenize()
library(roxygen2)
roxygenize()
library(roxygen2)
document()
document()
devtools::load_all(".")
document()
devtools::load_all(".")
# load the compiled .dll file
dyn.load("rome.dll")
# load the auxilary and R-based functions
source("rome_lib.R")
set.seed(123)
lambda <- 0.05;
delta <- 1.5
n <- 100
p <- 20
x <- matrix(rnorm(n*p,0,1),n,p)
e <- rnorm(n,0,1)
# w <- runif(n,min=0,max=1)
w <- NULL
y <- x %*% b + e
b <- c(10,-10,rep(0,p-2))
y <- x %*% b + e
max_iter <- 100; tol <- 1e-8
# 1. coordinate descent:
fit_cd <- ftn_cd(y,x,w,delta,lambda,max_iter,tol)
beta_cd <- fit_cd$beta_hat[fit_cd$iter,]
round(beta_cd,3)
round(fun_pen_Huber_reg(beta_cd,n,y,x,w,delta,lambda),3)
# 2. brute force:
fit_bf <- ftn_bf(y,x,w,delta,lambda,max_iter,tol)
beta_bf <- fit_bf$beta_hat[fit_bf$iter,]
round(beta_bf,3)
round(fun_pen_Huber_reg(beta_bf,n,y,x,w,delta,lambda),3)
# 3. Use optimizer (optimize):
fit_optimize <- ftn_optimize(y,x,w,delta,lambda,max_iter,tol)
beta_optimize <- fit_optimize$beta_hat[fit_optimize$iter,]
round(beta_optimize,3)
round(fun_pen_Huber_reg(beta_optimize,n,y,x,w,delta,lambda),3)
ecd.huber
# 4. Use C-based coordinate descent:
fit_c <- ecd.huber(y,x,delta,lambda,w,max_iter,tol)
getwd()
setwd("D:/High-dimensional time series/Exact coordinate descent/rome/src")
setwd("D:/High-dimensional time series/Exact coordinate descent/rome/scr")
system("R CMD SHLIB rome.c")
dyn.unload("rome.dll")
getwd()
library(roxygen2)
library(devtools)
devtools::load_all(".")
package.skeleton("rome")
load_all()
document()
create("rome")
library(usethis)
use_description(
fields = list(
Package = "rome",
Title = "penalized RObust-MEstimators",
Version = "0.1.0",
Authors@R = c(
use_description(
fields = list(
Package = "rome",
Title = "penalized RObust-MEstimators",
Version = "0.1.0",
Authors@R = list(
use_description(
fields = list(
Package = "rome",
Title = "penalized RObust-MEstimators",
Version = "0.1.0",
Authors@R = list(
use_description(
fields = list(
Package = "rome",
Title = "penalized RObust-MEstimators",
Version = "0.1.0",
Authors@R = c(
use_description()
use_description(fields = list(
Package = "rome",
Title = "penalized RObust-MEstimators",
Version = "0.1.0",
Author = "Younghoon Kim <yk748@cornell.edu> [aut], Sumanta Basu <sumbose@cornell.edu> [ctb]",
Maintainer = "Younghoon Kim <yk748@cornell.edu>",
Description = "Exact coordinate descent algorithm for regularized (Lasso-penalty) robust M-estimators.",
License = "MIT + file LICENSE"
))
document()
devtools::clean_dll()
devtools::document()
devtools::document()
getLoadedDLLs()
devtools::document()
devtools::document()
devtools::load_all(".")
export(rome)
getwd()
devtools::load_all(".")
document("rome")
library(roxygen2)
document("rome")
document()
library(devtools)
document()
library("devtools")
document()
library(namespace)
install.packages("namespace")
library(namespace)
